<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Журнал заявок - Система смен</title>
    <link rel="stylesheet" href="style.css">
</head>

<body class="theme-standard">

    <!-- Текст информации -->
    <div class="info-text" onclick="showInfoModal()">[info]</div>

    <!-- Модальное окно информации -->
    <div id="infoModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="hideInfoModal()">&times;</span>
            <h3 class="modal-title">О приложении</h3>
            <div class="info-content">
                <p><strong>Бортовой журнал</strong></p>
                <p>Версия: 1.0b</p>
                <p>Приложение для ведения журнала заявок.</p>
                <!--<br>
                <p><strong>Основные функции:</strong></p>
                <ul>
                    <li>Добавление и редактирование заявок</li>
                    <li>Ведение истории смен</li>
                    <li>Поиск и фильтрация данных</li>
                    <li>Тёмная/светлая темы</li>
                    <li>Автосохранение данных</li>
                    <li>Печать отчетов</li>
                </ul>
                <br>-->
                <p><strong>Разработчик:</strong> Калмыков Д.А.</p>
                <p><strong>Контакты:</strong> viperflip@yandex.ru</p>
                <br>
                <p><small>© 2025 Все права защищены</small></p>
            </div>
            <div class="modal-buttons">
                <button class="modal-cancel" onclick="hideInfoModal()">Закрыть</button>
            </div>
        </div>
    </div>

    <div class="print-shift-name" id="printShiftName"></div>

    <div class="container">
        <div class="tabs">
            <div class="tab active" data-tab="current">Текущая смена</div>
            <div class="tab" data-tab="history">История смен</div>
        </div>

        <!-- Вкладка текущей смены -->
        <div id="current-tab" class="tab-content active">
            <div class="stats-container" id="currentStats">
                <!-- Статистика будет добавляться здесь -->
            </div>

            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="Поиск по таблице...">
                <select id="filterType">
                    <option value="">Все типы</option>
                    <option value="А">Адрес</option>
                    <option value="У">Улица</option>
                </select>
                <button onclick="clearSearch()">Сбросить</button>
            </div>

            <div class="form">
                <div class="form-header">
                    <span>Новая заявка</span>
                    <div class="theme-controls">
                        <label class="theme-label" for="themeToggle">Тёмная</label>
                        <input type="checkbox" id="themeToggle" class="theme-checkbox">
                        <select id="colorScheme" class="color-scheme-select">
                            <option value="#651D1C">Красный</option>
                            <option value="#3F4AC4">Синий</option>
                            <option value="#3FA34D">Зелёный</option>
                            <option value="#7FB446">Салатовый</option>
                            <option value="#FBAF00">Оранжевый</option>
                            <option value="#2F3269">Тёмно-синий</option>
                            <option value="#8EA208">Оливковый</option>
                            <option value="#F49F0A">Жёлтый</option>
                            <option value="#76955E">Серо-зелёный</option>
                            <option value="#AFB884">Бежевый</option>
                            <option value="#23231F">Чёрный</option>
                        </select>
                    </div>
                </div>

                <div class="shift-info">
                    <input type="text" id="shiftName" class="shift-name-input" placeholder="Название смены">
                    <button class="finish-shift" onclick="finishShift()">Завершить смену</button>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="num">№ заявки</label>
                        <input type="number" id="num" />
                    </div>

                    <div class="form-group">
                        <label for="type">Тип</label>
                        <select id="type">
                            <option value="А">Адрес</option>
                            <option value="У">Улица</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="time1">Получено (чч:мм)</label>
                        <div class="time-group">
                            <input type="text" id="time1" placeholder="чч:мм" maxlength="5" />
                            <button class="now" onclick="setNow('time1')">Сейчас</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="time2">Прибыл (чч:мм)</label>
                        <div class="time-group">
                            <input type="text" id="time2" placeholder="чч:мм" maxlength="5" />
                            <button class="now" onclick="setNow('time2')">Сейчас</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="time3">Убыл (чч:мм)</label>
                        <div class="time-group">
                            <input type="text" id="time3" placeholder="чч:мм" maxlength="5" />
                            <button class="now" onclick="setNow('time3')">Сейчас</button>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="kusp">КУСП</label>
                        <input type="text" id="kusp" />
                    </div>
                    <div class="form-group">
                        <label for="desc">Описание</label>
                        <input type="text" id="desc" />
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="addr">Адрес</label>
                        <input type="text" id="addr" />
                    </div>
                    <div class="form-group">
                        <label for="result">Результат</label>
                        <input type="text" id="result" />
                    </div>
                </div>

                <div class="form-actions">
                    <button class="add" onclick="addRow()">Добавить</button>
                    <button class="print" onclick="window.print()">Печать</button>
                    <button class="clear" onclick="showClearConfirmation()">Очистить все</button>
                </div>
            </div>

            <div class="table-container">
                <table id="journal">
                    <thead>
                        <tr>
                            <th>№</th>
                            <th>А/У</th>
                            <th>Получено</th>
                            <th>Прибыл</th>
                            <th>Убыл</th>
                            <th>КУСП</th>
                            <th>Описание</th>
                            <th>Адрес</th>
                            <th>Результат</th>
                            <th width="70">Действия</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Данные будут добавляться сюда -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Вкладка истории смен -->
        <div id="history-tab" class="tab-content">
            <div class="stats-container" id="historyStats">
                <!-- Статистика истории будет здесь -->
            </div>

            <div class="search-container">
                <input type="text" id="historySearch" class="search-input" placeholder="Поиск по названию смены...">
                <button onclick="clearHistorySearch()">Сбросить</button>
            </div>

            <div class="history-list" id="historyList">
                <!-- Список смен будет добавляться сюда -->
            </div>
        </div>
    </div>

    <!-- Модальное окно подтверждения очистки -->
    <div id="clearModal" class="modal">
        <div class="modal-content">
            <h3>Подтверждение очистки</h3>
            <p>Вы уверены, что хотите удалить ВСЕ данные текущей смены? Это действие нельзя отменить.</p>
            <div class="modal-buttons">
                <button class="modal-cancel" onclick="hideClearConfirmation()">Отмена</button>
                <button class="modal-confirm" onclick="clearAllData()">Очистить всё</button>
            </div>
        </div>
    </div>

    <!-- Модальное окно просмотра смены -->
    <div id="viewShiftModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="hideViewShiftModal()">&times;</span>
            <h3 class="modal-title" id="viewShiftTitle">Просмотр смены</h3>
            <div class="table-container">
                <table id="viewShiftTable">
                    <thead>
                        <tr>
                            <th>№</th>
                            <th>А/У</th>
                            <th>Получено</th>
                            <th>Прибыл</th>
                            <th>Убыл</th>
                            <th>КУСП</th>
                            <th>Описание</th>
                            <th>Адрес</th>
                            <th>Результат</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Данные смены будут добавляться сюда -->
                    </tbody>
                </table>
            </div>
            <div class="modal-buttons">
                <button class="modal-cancel" onclick="hideViewShiftModal()">Закрыть</button>
            </div>
        </div>
    </div>

    <div id="notification" class="notification"></div>

    <script src="script.js"></script>
</body>

</html>